{"ast":null,"code":"var _jsxFileName = \"/home/ethen/aakarshit/Facebook-clone/src/component/newsfeed/NewsFeed.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { delPost } from '../../actions/postAction';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nclass NewsFeed extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      counter: 0,\n      comments: [],\n      flag: 0\n    };\n\n    this.change = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.commentPost = id => {\n      const obj = {};\n      obj.comments = this.state.comments;\n      obj.id = id;\n      fetch(\"http://localhost:4000/comment\", {\n        method: 'POST',\n        body: JSON.stringify(obj),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(response => {\n        this.setState({\n          comments: response,\n          flag: 1\n        });\n        console.log(this.state.comments);\n      });\n    };\n\n    this.countIncrease = postId => {\n      fetch(\"http://localhost:4000/updLikes/\".concat(postId)).then(res => res.json()).then(response => console.log(response));\n\n      if (this.state.counter === 0) {\n        this.setState({\n          counter: this.state.counter + 1\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:4000/fetchLikes/\".concat(this.props.post.postId)).then(res => res.json()).then(response => {\n      console.log(response);\n      this.setState({\n        counter: response\n      });\n    });\n  }\n\n  render() {\n    console.log('typeof is');\n    console.log(typeof this.state.comments);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"round-img\",\n      src: this.props.post.mainImg,\n      alt: \"Avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Metallica\"), React.createElement(\"button\", {\n      onClick: e => this.props.delPost(this.props.post.postId),\n      className: \"delbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Delete\")), this.props.post.postData.includes('jpg') === true || this.props.post.postData.includes('jpeg') === true || this.props.post.postData.includes('png') === true ? React.createElement(\"div\", {\n      class: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.post.postData,\n      alt: \"img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      class: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.post.postData), React.createElement(\"div\", {\n      class: \"card-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"createfooter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"far fa-thumbs-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"info\",\n      onClick: e => this.countIncrease(this.props.post.postId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.counter))), React.createElement(\"div\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"far fa-comment-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \" Comment\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-share\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \" Share\")))), this.state.comments.length > 0 && this.state.flag === 1 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, this.state.comments.map(cmnts => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      cols: \"60\",\n      rows: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, cmnts.comments)))) : React.createElement(\"div\", {\n      className: \"display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      cols: \"60\",\n      rows: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"round-img-cmnts\",\n      src: this.props.post.mainImg,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      className: \"cmnts\",\n      name: \"comments\",\n      placeholder: \"Write a comment...\",\n      rows: \"1\",\n      cols: \"60\",\n      onChange: e => this.change(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: e => this.commentPost(this.props.post.postId),\n      className: \"cmnt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Comment\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n}\n\nNewsFeed.propTypes = {\n  delPost: propTypes.func.isRequired\n};\nexport default connect(null, {\n  delPost\n})(NewsFeed);","map":{"version":3,"sources":["/home/ethen/aakarshit/Facebook-clone/src/component/newsfeed/NewsFeed.js"],"names":["React","Component","Button","delPost","propTypes","connect","NewsFeed","state","counter","comments","flag","change","e","setState","target","name","value","commentPost","id","obj","fetch","method","body","JSON","stringify","headers","then","res","json","response","console","log","countIncrease","postId","componentDidMount","props","post","render","mainImg","postData","includes","length","map","cmnts","func","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Button } from 'react-bootstrap'\n\nimport { delPost } from '../../actions/postAction';\n\nimport propTypes from 'prop-types'\n\nimport { connect } from 'react-redux';\n\nclass NewsFeed extends Component {\n    state = {\n        counter: 0,\n        comments: [],\n        flag: 0\n    }\n    componentDidMount() {\n        fetch(`http://localhost:4000/fetchLikes/${this.props.post.postId}`)\n        .then(res => res.json())\n        .then((response) => {\n            console.log(response);\n            \n            this.setState({\n                counter: response,\n            })\n        })\n    }\n    change = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    commentPost = (id) => {\n        const obj = {};\n        obj.comments = this.state.comments;\n        obj.id = id;\n        fetch(`http://localhost:4000/comment`,{\n        method: 'POST',\n        body: JSON.stringify(obj),\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        })\n        .then(function (res) {\n            return res.json()\n            })\n        .then((response) => {\n            this.setState({\n                comments: response,\n                flag:1    \n            })\n            console.log(this.state.comments);\n        });\n    }\n    countIncrease = (postId) => {\n        fetch(`http://localhost:4000/updLikes/${postId}`)\n        .then(res => res.json())\n        .then(response => console.log(response));\n            if(this.state.counter === 0) {\n                this.setState({\n                    counter: this.state.counter + 1\n                })\n            }\n    }\n    render() {\n        console.log('typeof is');\n        console.log(typeof this.state.comments);\n        return (\n            <div>\n                <div class=\"card\">              \n                    <div class=\"card-header\">\n                        <img className=\"round-img\" src = {this.props.post.mainImg} alt=\"Avatar\" />\n                        <div>Metallica</div>\n                        <button onClick = {e => this.props.delPost(this.props.post.postId)} className = \"delbtn\">Delete</button>\n                    </div>\n                    {(this.props.post.postData.includes('jpg') === true || this.props.post.postData.includes('jpeg') === true || this.props.post.postData.includes('png') === true) ?\n                    <div class=\"card-body\"><img src = {this.props.post.postData} alt=\"img\" /></div>\n                    : <div class=\"card-body\">{this.props.post.postData}</div>}\n                    <div class=\"card-footer\">\n\n                        <div className = \"createfooter\">\n                            <div className=\"footer\"><i class=\"far fa-thumbs-up\"><Button variant=\"info\" onClick = {e => this.countIncrease(this.props.post.postId)}>{this.state.counter}</Button></i></div>\n                            <div className=\"footer\"><i class=\"far fa-comment-alt\"> Comment</i></div>\n                            <div><i class=\"fas fa-share\"> Share</i></div>\n                        </div>\n                    </div>\n                    {((this.state.comments.length > 0) && (this.state.flag === 1)) ?\n                    <div>\n                        { this.state.comments.map((cmnts) => \n                            <div><textarea cols=\"60\" rows=\"1\">{cmnts.comments}</textarea></div>\n                        )}\n                    </div>\n                    :<div className = \"display\"><textarea cols=\"60\" rows=\"1\"></textarea></div>\n                    }\n                    <div>\n                        <img className=\"round-img-cmnts\"src={this.props.post.mainImg} alt=\"\"/><textarea className = \"cmnts\" name=\"comments\" placeholder=\"Write a comment...\" rows=\"1\" cols=\"60\" onChange = {e => this.change(e)}/><button onClick = {e => this.commentPost(this.props.post.postId)} className=\"cmnt\">Comment</button>\n                    </div>\n                </div>\n                <br /> \n            </div>\n        )\n    }\n}\nNewsFeed.propTypes = {\n    delPost: propTypes.func.isRequired,\n}\nexport default connect(null, { delPost })(NewsFeed);"]},"metadata":{},"sourceType":"module"}